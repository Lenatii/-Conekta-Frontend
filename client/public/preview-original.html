<!doctype html>
<html lang="en">
<head>
  <!-- Basic Meta Tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <!-- Primary Meta Tags -->
  <title>CONEKTA Africa ‚Äî Rent ‚Ä¢ Services ‚Ä¢ Trust | RentConnect, KaziFlow, UBARU, Short-Stay</title>
  <meta name="title" content="CONEKTA Africa ‚Äî Rent ‚Ä¢ Services ‚Ä¢ Trust | RentConnect, KaziFlow, UBARU, Short-Stay" />
  <meta name="description" content="CONEKTA Africa: Find verified homes with RentConnect, hire trusted fundis with KaziFlow, get UBARU certified, and book short-stays. Kenya's complete digital platform powered by Mama Dennis AI." />
  <meta name="keywords" content="CONEKTA, Kenya rentals, hire fundis, UBARU certification, short-stay Kenya, RentConnect, KaziFlow, property rental Kenya, service providers Kenya, Mama Dennis AI, Nakuru, Nairobi" />
  <meta name="author" content="CONEKTA Africa" />
  <meta name="robots" content="index, follow" />
  <meta name="language" content="English" />
  <meta name="revisit-after" content="7 days" />

  <!-- Google Search Console Verification -->
  <meta name="google-site-verification" content="uqSpirZQfH0XDj1k-m71gSZUd2E2FvwbqGyczXkQXN8" />

  <!-- Canonical URL -->
  <link rel="canonical" href="https://www.conekta.co.ke/" />

  <!-- Open Graph / Facebook Meta Tags -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.conekta.co.ke/" />
  <meta property="og:title" content="CONEKTA Africa ‚Äî Rent ‚Ä¢ Services ‚Ä¢ Trust" />
  <meta property="og:description" content="Find verified homes with RentConnect, hire trusted fundis with KaziFlow, get UBARU certified, and book short-stays. Kenya's complete digital platform powered by Mama Dennis AI." />
  <meta property="og:image" content="https://www.conekta.co.ke/conekta_logo.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:site_name" content="CONEKTA Africa" />
  <meta property="og:locale" content="en_KE" />

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:url" content="https://www.conekta.co.ke/" />
  <meta name="twitter:title" content="CONEKTA Africa ‚Äî Rent ‚Ä¢ Services ‚Ä¢ Trust" />
  <meta name="twitter:description" content="Find verified homes, hire trusted fundis, get certified, and book stays. Kenya's complete digital platform powered by Mama Dennis AI." />
  <meta name="twitter:image" content="https://www.conekta.co.ke/conekta_logo.png" />

  <!-- Additional Meta Tags -->
  <meta name="theme-color" content="#0F172A" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="CONEKTA" />

  <!-- Geo Tags for Local SEO -->
  <meta name="geo.region" content="KE" />
  <meta name="geo.placename" content="Kenya" />
  <meta name="geo.position" content="-0.3031;36.0800" />
  <meta name="ICBM" content="-0.3031, 36.0800" />

  <!-- Contact Information -->
  <meta name="contact" content="hello@conekta.africa" />
  <meta name="copyright" content="CONEKTA Africa 2025" />

  <!-- Structured Data (Schema.org JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "CONEKTA Africa",
    "url": "https://www.conekta.co.ke",
    "logo": "https://www.conekta.co.ke/conekta_logo.png",
    "description": "Kenya's complete digital platform for rent, services, trust, and stays. Powered by Mama Dennis AI.",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Nakuru",
      "addressRegion": "Nakuru County",
      "addressCountry": "KE"
    },
    "contactPoint": {
      "@type": "ContactPoint",
      "telephone": "+254-797-446-155",
      "contactType": "Customer Service",
      "email": "hello@conekta.africa",
      "availableLanguage": ["English", "Swahili"]
    },
    "sameAs": [
      "https://www.conekta.co.ke"
    ]
  }
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    :root {
      --bg: #070816;
      --card: #0b0f2a;
      --muted: #8b90b3;
      --brand: #7c5cff;
      --brand-2: #00e0b8;
    }
    
    body {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      background: radial-gradient(1200px 800px at 80% -10%, rgba(124,92,255,.25), transparent 60%),
                  radial-gradient(1000px 600px at -10% 10%, rgba(0,224,184,.18), transparent 60%),
                  var(--bg);
      color: #e9eaf7;
      overflow-x: hidden;
    }
    
    .glass {
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 10px 40px rgba(0,0,0,.35);
      backdrop-filter: blur(10px);
    }
    
    .btn {
      transition: all .3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 24px rgba(124,92,255,.4);
    }
    
    .shine {
      position: relative;
      overflow: hidden;
    }
    
    .shine:after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(600px 200px at -20% -20%, rgba(255,255,255,.12), transparent 40%),
                  radial-gradient(500px 200px at 120% 120%, rgba(255,255,255,.08), transparent 40%);
      pointer-events: none;
    }
    
    .gradient-text {
      background: linear-gradient(90deg, #c9c5ff, #9ef7e8);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    
    .pill {
      background: linear-gradient(90deg, rgba(124,92,255,.25), rgba(0,224,184,.25));
      border: 1px solid rgba(255,255,255,.16);
    }
    
    .badge {
      border: 1px solid rgba(255,255,255,.12);
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    
    .float-animation {
      animation: float 3s ease-in-out infinite;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .fade-in-up {
      animation: fadeInUp 0.6s ease-out forwards;
    }
    
    .module-card {
      transition: all 0.3s ease;
    }
    
    .module-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 20px 40px rgba(124,92,255,.3);
    }
    
    .social-icon {
      transition: all 0.3s ease;
    }
    
    .social-icon:hover {
      transform: scale(1.2) rotate(5deg);
    }
    
    .logo-img {
      height: 48px;
      width: auto;
    }
  </style>
</head>
<body class="antialiased">

  <!-- NAVBAR -->
  <header class="sticky top-0 z-30 backdrop-blur-lg supports-[backdrop-filter]:bg-black/30 border-b border-white/10">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="flex h-20 items-center justify-between">
        <a href="#" class="flex items-center gap-3">
          <img src="conekta_logo.png" alt="CONEKTA Africa Logo" class="logo-img" />
          <span class="text-xl font-bold hidden sm:inline">CONEKTA <span class="text-teal-400">Africa</span></span>
        </a>
        
        <nav class="hidden md:flex items-center gap-6 text-sm text-slate-200">
          <a href="#modules" class="hover:text-white transition">Modules</a>
          <a href="#how" class="hover:text-white transition">How it works</a>
          <a href="#contact" class="hover:text-white transition">Contact</a>
          <a href="https://wa.me/254797446155?text=Hi%2C%20I%27m%20interested%20in%20CONEKTA" target="_blank" class="inline-flex items-center gap-2 rounded-full px-5 py-2 btn text-white font-semibold" style="background:linear-gradient(90deg,#7c5cff,#00e0b8)">
            <i data-lucide="message-circle" class="w-4 h-4"></i>
            <span>WhatsApp Chat</span>
          </a>
        </nav>
        
        <button id="mobileBtn" class="md:hidden rounded-lg p-2 glass">
          <i data-lucide="menu"></i>
        </button>
      </div>
    </div>
    
    <div id="mobileMenu" class="md:hidden hidden border-t border-white/10">
      <div class="mx-auto max-w-7xl px-4 py-4 flex flex-col gap-3 text-slate-200">
        <a href="#modules" class="hover:text-white">Modules</a>
        <a href="#how" class="hover:text-white">How it works</a>
        <a href="#contact" class="hover:text-white">Contact</a>
        <a href="https://wa.me/254797446155?text=Hi%2C%20I%27m%20interested%20in%20CONEKTA" target="_blank" class="inline-flex w-max items-center gap-2 rounded-full px-5 py-2 btn text-white font-semibold" style="background:linear-gradient(90deg,#7c5cff,#00e0b8)">
          <i data-lucide="message-circle" class="w-4 h-4"></i>
          <span>WhatsApp Chat</span>
        </a>
      </div>
    </div>
  </header>

  <!-- HERO SECTION -->
  <section class="relative overflow-hidden py-20 lg:py-32">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        
        <!-- Left: Text Content -->
        <div class="fade-in-up">
          <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full pill text-sm text-slate-200 mb-6">
            <i data-lucide="sparkles" class="w-4 h-4"></i>
            <span>Powered by Mama Dennis AI</span>
          </div>
          
          <h1 class="text-5xl sm:text-6xl lg:text-7xl font-extrabold leading-tight mb-6">
            Your Digital OS for <span class="gradient-text">Rent ‚Ä¢ Services ‚Ä¢ Trust</span>
          </h1>
          
          <p class="text-slate-300 text-lg lg:text-xl leading-relaxed max-w-2xl mb-8">
            Find verified homes, hire trusted fundis, get UBARU certified, and book short-stays ‚Äî all in one platform. Built for Kenya & Africa with automation, accountability, and heart.
          </p>
          
          <div class="flex flex-wrap gap-4 mb-8">
            <a href="#modules" class="rounded-xl px-6 py-4 btn text-black font-bold text-lg" style="background:linear-gradient(90deg,#c9c5ff,#9ef7e8)">
              Explore Modules
            </a>
            <a href="#contact" class="rounded-xl px-6 py-4 glass btn text-white font-semibold text-lg">
              Get Started
            </a>
          </div>
          
          <!-- Trust Badges -->
          <div class="flex items-center gap-3 text-sm text-slate-400 flex-wrap">
            <button onclick="showUbaruModal()" class="badge rounded-full px-4 py-2 cursor-pointer hover:bg-white/10 transition">
              üõ°Ô∏è Conekta-Pay ‚Ä¢ UBARU Certified
            </button>
            <a href="https://wa.me/254797446155?text=Hi%2C%20I%27m%20interested%20in%20CONEKTA%20services" target="_blank" class="badge rounded-full px-4 py-2 cursor-pointer hover:bg-white/10 transition">
              üí¨ WhatsApp First
            </a>
            <button onclick="showMpesaModal()" class="badge rounded-full px-4 py-2 cursor-pointer hover:bg-white/10 transition">
              üì± M-Pesa Ready
            </button>
          </div>
        </div>
        
        <!-- Right: Module Preview Cards -->
        <div class="shine glass rounded-3xl p-8 float-animation">
          <div class="grid grid-cols-2 gap-4">
            <div class="rounded-2xl bg-white/5 p-6 border border-white/10 hover:bg-white/10 transition cursor-pointer" onclick="scrollToModule('rentconnect')">
              <div class="flex items-center justify-between mb-3">
                <h4 class="font-bold text-lg">RentConnect</h4>
                <i data-lucide="home" class="w-6 h-6 text-purple-400"></i>
              </div>
              <p class="text-sm text-slate-300">Verified rentals with 360¬∞ tours</p>
            </div>
            
            <div class="rounded-2xl bg-white/5 p-6 border border-white/10 hover:bg-white/10 transition cursor-pointer" onclick="scrollToModule('kaziflow')">
              <div class="flex items-center justify-between mb-3">
                <h4 class="font-bold text-lg">KaziFlow</h4>
                <i data-lucide="wrench" class="w-6 h-6 text-teal-400"></i>
              </div>
              <p class="text-sm text-slate-300">Hire vetted fundis safely</p>
            </div>
            
            <div class="rounded-2xl bg-white/5 p-6 border border-white/10 hover:bg-white/10 transition cursor-pointer" onclick="scrollToModule('ubaru')">
              <div class="flex items-center justify-between mb-3">
                <h4 class="font-bold text-lg">UBARU</h4>
                <i data-lucide="shield-check" class="w-6 h-6 text-purple-400"></i>
              </div>
              <p class="text-sm text-slate-300">Trust certification system</p>
            </div>
            
            <div class="rounded-2xl bg-white/5 p-6 border border-white/10 hover:bg-white/10 transition cursor-pointer" onclick="scrollToModule('shortstay')">
              <div class="flex items-center justify-between mb-3">
                <h4 class="font-bold text-lg">Short-Stay</h4>
                <i data-lucide="bed" class="w-6 h-6 text-teal-400"></i>
              </div>
              <p class="text-sm text-slate-300">Host & book stays easily</p>
            </div>
          </div>
          
          <div class="mt-6 p-4 rounded-xl bg-gradient-to-r from-purple-500/20 to-teal-500/20 border border-white/10">
            <div class="flex items-center gap-3">
              <i data-lucide="bot" class="w-8 h-8 text-teal-400"></i>
              <div>
                <p class="font-bold text-white">Mama Dennis AI</p>
                <p class="text-sm text-slate-300">Your Digital Guardian & CTO</p>
              </div>
            </div>
          </div>
        </div>
        
      </div>
    </div>
  </section>

  <!-- HOW IT WORKS -->
  <section id="how" class="py-20 border-t border-white/10">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="text-center max-w-2xl mx-auto mb-16">
        <h2 class="text-4xl font-bold mb-4">How it works</h2>
        <p class="text-slate-300 text-lg">Simple steps from discovery to done ‚Äî in chat or on web.</p>
      </div>
      
      <div class="grid md:grid-cols-4 gap-6">
        <div class="glass rounded-2xl p-8 text-center">
          <div class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4" style="background:linear-gradient(135deg,#7c5cff,#00e0b8)">
            <span class="font-bold text-2xl">1</span>
          </div>
          <h3 class="text-xl font-bold mb-3">Discover</h3>
          <p class="text-sm text-slate-300">Browse rentals & services or say "Hi" on WhatsApp</p>
        </div>
        
        <div class="glass rounded-2xl p-8 text-center">
          <div class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4" style="background:linear-gradient(135deg,#7c5cff,#00e0b8)">
            <span class="font-bold text-2xl">2</span>
          </div>
          <h3 class="text-xl font-bold mb-3">Verify</h3>
          <p class="text-sm text-slate-300">UBARU checks owners & providers. See the badge.</p>
        </div>
        
        <div class="glass rounded-2xl p-8 text-center">
          <div class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4" style="background:linear-gradient(135deg,#7c5cff,#00e0b8)">
            <span class="font-bold text-2xl">3</span>
          </div>
          <h3 class="text-xl font-bold mb-3">Book & Pay</h3>
          <p class="text-sm text-slate-300">Secure Conekta-Pay with M-Pesa. Funds on completion.</p>
        </div>
        
        <div class="glass rounded-2xl p-8 text-center">
          <div class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4" style="background:linear-gradient(135deg,#7c5cff,#00e0b8)">
            <span class="font-bold text-2xl">4</span>
          </div>
          <h3 class="text-xl font-bold mb-3">Rate & Grow</h3>
          <p class="text-sm text-slate-300">Reviews build reputation. AI learns & optimizes.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- MODULES SECTION -->
  <section id="modules" class="py-20 border-t border-white/10">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="text-center max-w-2xl mx-auto mb-16">
        <h2 class="text-4xl font-bold mb-4">All Modules Under One Roof</h2>
        <p class="text-slate-300 text-lg">Your complete Digital OS for rent, services, trust, and stays.</p>
      </div>
      
      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
        
        <!-- RentConnect -->
        <article id="rentconnect" class="glass rounded-2xl p-6 flex flex-col module-card">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-xl font-bold">RentConnect</h3>
            <i data-lucide="home" class="w-6 h-6 text-purple-400"></i>
          </div>
          <p class="text-sm text-slate-300 mb-4 flex-grow">
            Browse verified property listings with 360¬∞ virtual tours, secure applications, and digital lease agreements.
          </p>
          <div class="text-xs text-slate-400 mb-4 p-3 rounded-lg bg-white/5">
            ‚úì 5% commission<br/>
            ‚úì Virtual tours<br/>
            ‚úì Conekta-Pay protection
          </div>
          <button onclick="openModuleModal('rentconnect')" class="mt-auto inline-flex items-center justify-center gap-2 text-teal-400 hover:text-white btn font-semibold">
            <span>Explore Properties</span>
            <i data-lucide="arrow-right" class="w-4 h-4"></i>
          </button>
        </article>
        
        <!-- KaziFlow -->
        <article id="kaziflow" class="glass rounded-2xl p-6 flex flex-col module-card">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-xl font-bold">KaziFlow</h3>
            <i data-lucide="wrench" class="w-6 h-6 text-teal-400"></i>
          </div>
          <p class="text-sm text-slate-300 mb-4 flex-grow">
            Hire vetted service providers (fundis) with confidence. Pay safely through Conekta-Pay and rate their work.
          </p>
          <div class="text-xs text-slate-400 mb-4 p-3 rounded-lg bg-white/5">
            ‚úì Background checks<br/>
            ‚úì Conekta-Pay payments<br/>
            ‚úì Rating system
          </div>
          <button onclick="openModuleModal('kaziflow')" class="mt-auto inline-flex items-center justify-center gap-2 text-teal-400 hover:text-white btn font-semibold">
            <span>Find Fundis</span>
            <i data-lucide="arrow-right" class="w-4 h-4"></i>
          </button>
        </article>
        
        <!-- UBARU -->
        <article id="ubaru" class="glass rounded-2xl p-6 flex flex-col module-card">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-xl font-bold">UBARU</h3>
            <i data-lucide="shield-check" class="w-6 h-6 text-purple-400"></i>
          </div>
          <p class="text-sm text-slate-300 mb-4 flex-grow">
            Trust certification system that verifies landlords, tenants, and service providers to reduce fraud.
          </p>
          <div class="text-xs text-slate-400 mb-4 p-3 rounded-lg bg-white/5">
            ‚úì KYC verification<br/>
            ‚úì Background checks<br/>
            ‚úì Trust scores
          </div>
          <button onclick="openModuleModal('ubaru')" class="mt-auto inline-flex items-center justify-center gap-2 text-teal-400 hover:text-white btn font-semibold">
            <span>Get Certified</span>
            <i data-lucide="arrow-right" class="w-4 h-4"></i>
          </button>
        </article>
        
        <!-- Short-Stay -->
        <article id="shortstay" class="glass rounded-2xl p-6 flex flex-col module-card">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-xl font-bold">Short-Stay</h3>
            <i data-lucide="bed" class="w-6 h-6 text-teal-400"></i>
          </div>
          <p class="text-sm text-slate-300 mb-4 flex-grow">
            Host your space or book verified short-term stays with secure payments and instant confirmations.
          </p>
          <div class="text-xs text-slate-400 mb-4 p-3 rounded-lg bg-white/5">
            ‚úì Instant booking<br/>
            ‚úì Host protection<br/>
            ‚úì Flexible stays
          </div>
          <button onclick="openModuleModal('shortstay')" class="mt-auto inline-flex items-center justify-center gap-2 text-teal-400 hover:text-white btn font-semibold">
            <span>Book Stays</span>
            <i data-lucide="arrow-right" class="w-4 h-4"></i>
          </button>
        </article>
        
      </div>
    </div>
  </section>

  <!-- CTA STRIP -->
  <section class="py-16 border-t border-white/10">
    <div class="mx-auto max-w-6xl px-4">
      <div class="glass rounded-3xl p-10 flex flex-col md:flex-row items-center justify-between gap-6">
        <div>
          <h3 class="text-3xl font-bold mb-2">Ready to get started?</h3>
          <p class="text-slate-300 text-lg">Let Mama Dennis guide you. Quick, human, effective.</p>
        </div>
        <div class="flex gap-4">
          <a href="#contact" class="rounded-xl px-6 py-4 btn text-black font-bold text-lg" style="background:linear-gradient(90deg,#c9c5ff,#9ef7e8)">
            Contact Us
          </a>
          <a href="https://wa.me/254797446155?text=Hi%2C%20I%27m%20interested%20in%20CONEKTA" target="_blank" class="rounded-xl px-6 py-4 glass inline-flex items-center gap-2 btn text-white font-semibold text-lg">
            <i data-lucide="message-circle" class="w-5 h-5"></i>
            WhatsApp
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- CONTACT SECTION -->
  <section id="contact" class="py-20 border-t border-white/10">
    <div class="mx-auto max-w-6xl px-4">
      <div class="grid md:grid-cols-2 gap-12 items-start">
        
        <!-- Left: Contact Info -->
        <div>
          <h2 class="text-4xl font-bold mb-4">Let's Talk</h2>
          <p class="text-slate-300 text-lg mb-8">
            Tell us what you need ‚Äî property, service, certification, or partnerships.
          </p>
          
          <div class="space-y-4 text-slate-300 mb-8">
            <p class="flex items-center gap-3 text-lg">
              <i data-lucide="mail" class="w-5 h-5 text-teal-400"></i>
              hello@conekta.africa
            </p>
            <p class="flex items-center gap-3 text-lg">
              <i data-lucide="phone" class="w-5 h-5 text-teal-400"></i>
              +254 797 446 155
            </p>
            <p class="flex items-center gap-3 text-lg">
              <i data-lucide="map-pin" class="w-5 h-5 text-teal-400"></i>
              Nakuru ‚Ä¢ Nairobi
            </p>
          </div>
          
          <!-- Social Media Links -->
          <div class="mb-8">
            <p class="text-sm text-slate-400 mb-4">Follow us on social media:</p>
            <div class="flex items-center gap-4">
              <a href="https://instagram.com/conekta.africa" target="_blank" class="social-icon w-10 h-10 rounded-full glass flex items-center justify-center hover:bg-white/20">
                <i data-lucide="instagram" class="w-5 h-5"></i>
              </a>
              <a href="https://twitter.com/conektaafrica" target="_blank" class="social-icon w-10 h-10 rounded-full glass flex items-center justify-center hover:bg-white/20">
                <i data-lucide="twitter" class="w-5 h-5"></i>
              </a>
              <a href="https://facebook.com/conektaafrica" target="_blank" class="social-icon w-10 h-10 rounded-full glass flex items-center justify-center hover:bg-white/20">
                <i data-lucide="facebook" class="w-5 h-5"></i>
              </a>
              <a href="https://linkedin.com/company/conekta-africa" target="_blank" class="social-icon w-10 h-10 rounded-full glass flex items-center justify-center hover:bg-white/20">
                <i data-lucide="linkedin" class="w-5 h-5"></i>
              </a>
              <a href="https://tiktok.com/@conekta.africa" target="_blank" class="social-icon w-10 h-10 rounded-full glass flex items-center justify-center hover:bg-white/20">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"/></svg>
              </a>
              <a href="https://youtube.com/@conektaafrica" target="_blank" class="social-icon w-10 h-10 rounded-full glass flex items-center justify-center hover:bg-white/20">
                <i data-lucide="youtube" class="w-5 h-5"></i>
              </a>
            </div>
          </div>
        </div>
        
        <!-- Right: Contact Form -->
        <form id="contactForm" class="glass rounded-2xl p-8 space-y-5">
          <div class="grid sm:grid-cols-2 gap-4">
            <div>
              <label class="text-sm text-slate-300 block mb-2 font-semibold">Full name *</label>
              <input required name="name" class="w-full rounded-xl bg-white/5 border border-white/10 px-4 py-3 text-white focus:border-teal-400 focus:outline-none transition" />
            </div>
            <div>
              <label class="text-sm text-slate-300 block mb-2 font-semibold">Email *</label>
              <input required type="email" name="email" class="w-full rounded-xl bg-white/5 border border-white/10 px-4 py-3 text-white focus:border-teal-400 focus:outline-none transition" />
            </div>
          </div>
          
          <div class="grid sm:grid-cols-2 gap-4">
            <div>
              <label class="text-sm text-slate-300 block mb-2 font-semibold">Phone</label>
              <input name="phone" class="w-full rounded-xl bg-white/5 border border-white/10 px-4 py-3 text-white focus:border-teal-400 focus:outline-none transition" />
            </div>
            <div>
              <label class="text-sm text-slate-300 block mb-2 font-semibold">Topic</label>
              <select name="topic" class="w-full rounded-xl bg-white/5 border border-white/10 px-4 py-3 text-white focus:border-teal-400 focus:outline-none transition">
                <option>RentConnect</option>
                <option>KaziFlow</option>
                <option>UBARU Certification</option>
                <option>Short-Stay</option>
                <option>Partnership</option>
                <option>Other</option>
              </select>
            </div>
          </div>
          
          <div>
            <label class="text-sm text-slate-300 block mb-2 font-semibold">Message *</label>
            <textarea required name="message" rows="5" class="w-full rounded-xl bg-white/5 border border-white/10 px-4 py-3 text-white focus:border-teal-400 focus:outline-none transition"></textarea>
          </div>
          
          <button type="submit" class="rounded-xl px-6 py-4 btn w-full font-bold text-lg text-white" style="background:linear-gradient(90deg,#7c5cff,#00e0b8)">
            Send Message
          </button>
          
          <p id="formStatus" class="text-sm text-center"></p>
        </form>
        
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="border-t border-white/10 py-12">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="grid md:grid-cols-4 gap-8 mb-8">
        
        <!-- Column 1: Brand -->
        <div>
          <div class="flex items-center gap-3 mb-4">
            <img src="conekta_logo.png" alt="CONEKTA Logo" class="h-10 w-auto" />
            <span class="text-xl font-bold">CONEKTA</span>
          </div>
          <p class="text-sm text-slate-400">Your Digital OS for Rent, Services, and Trust in Africa.</p>
        </div>
        
        <!-- Column 2: Modules -->
        <div>
          <h4 class="font-bold mb-4">Modules</h4>
          <ul class="space-y-2 text-sm text-slate-400">
            <li><a href="#rentconnect" class="hover:text-white transition">RentConnect</a></li>
            <li><a href="#kaziflow" class="hover:text-white transition">KaziFlow</a></li>
            <li><a href="#ubaru" class="hover:text-white transition">UBARU</a></li>
            <li><a href="#shortstay" class="hover:text-white transition">Short-Stay</a></li>
          </ul>
        </div>
        
        <!-- Column 3: Company -->
        <div>
          <h4 class="font-bold mb-4">Company</h4>
          <ul class="space-y-2 text-sm text-slate-400">
            <li><a href="#how" class="hover:text-white transition">How it works</a></li>
            <li><a href="#contact" class="hover:text-white transition">Contact</a></li>
            <li><a href="https://conekta-complete-system.onrender.com/api/legal/terms" target="_blank" class="hover:text-white transition">Terms</a></li>
            <li><a href="https://conekta-complete-system.onrender.com/api/legal/privacy" target="_blank" class="hover:text-white transition">Privacy</a></li>
          </ul>
        </div>
        
        <!-- Column 4: Connect -->
        <div>
          <h4 class="font-bold mb-4">Connect</h4>
          <div class="flex items-center gap-3 mb-4">
            <a href="https://instagram.com/conekta.africa" target="_blank" class="social-icon w-10 h-10 rounded-full glass flex items-center justify-center hover:bg-white/20">
              <i data-lucide="instagram" class="w-5 h-5"></i>
            </a>
            <a href="https://twitter.com/conektaafrica" target="_blank" class="social-icon w-10 h-10 rounded-full glass flex items-center justify-center hover:bg-white/20">
              <i data-lucide="twitter" class="w-5 h-5"></i>
            </a>
            <a href="https://facebook.com/conektaafrica" target="_blank" class="social-icon w-10 h-10 rounded-full glass flex items-center justify-center hover:bg-white/20">
              <i data-lucide="facebook" class="w-5 h-5"></i>
            </a>
            <a href="https://linkedin.com/company/conekta-africa" target="_blank" class="social-icon w-10 h-10 rounded-full glass flex items-center justify-center hover:bg-white/20">
              <i data-lucide="linkedin" class="w-5 h-5"></i>
            </a>
          </div>
          <p class="text-sm text-slate-400">
            <a href="https://wa.me/254797446155" target="_blank" class="hover:text-white transition">WhatsApp: +254 797 446 155</a>
          </p>
        </div>
        
      </div>
      
      <div class="border-t border-white/10 pt-8 flex flex-col sm:flex-row items-center justify-between gap-4 text-sm text-slate-400">
        <p>¬© <span id="year"></span> CONEKTA Africa ‚Ä¢ UBARU ‚Ä¢ Mama Dennis AI</p>
        <div class="flex items-center gap-4">
          <a href="https://conekta-complete-system.onrender.com/api/legal/ownership" target="_blank" class="hover:text-white transition">IP Protection</a>
          <a href="https://conekta-complete-system.onrender.com/api/legal/status" target="_blank" class="hover:text-white transition">API Status</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- MAMA DENNIS CHAT WIDGET -->
  <div id="mamaDennisChat" class="hidden fixed bottom-24 right-4 z-40 w-96 max-w-[calc(100vw-2rem)] glass rounded-2xl shadow-2xl">
    <div class="p-4 border-b border-white/10 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-12 h-12 rounded-full flex items-center justify-center" style="background:linear-gradient(135deg,#7c5cff,#00e0b8)">
          <span class="text-white font-bold text-lg">MD</span>
        </div>
        <div>
          <p class="font-bold text-white">Mama Dennis AI</p>
          <p class="text-xs text-slate-400">Your Digital Guardian</p>
        </div>
      </div>
      <button onclick="toggleChat()" class="text-slate-400 hover:text-white transition">
        <i data-lucide="x" class="w-5 h-5"></i>
      </button>
    </div>
    
    <div id="chatMessages" class="p-4 h-80 overflow-y-auto space-y-3">
      <div class="text-left">
        <div class="inline-block glass rounded-lg px-4 py-3 max-w-xs">
          Hello! I'm Mama Dennis, your AI assistant. I can help you with RentConnect, KaziFlow, UBARU, and Short-Stay. How can I assist you today?
        </div>
      </div>
    </div>
    
    <div class="p-4 border-t border-white/10">
      <div class="flex gap-2">
        <input id="chatInput" type="text" placeholder="Type your message..." class="flex-1 rounded-xl bg-white/5 border border-white/10 px-4 py-3 text-white text-sm focus:border-teal-400 focus:outline-none transition" />
        <button onclick="sendChatMessage()" class="rounded-xl px-4 py-3 btn" style="background:linear-gradient(90deg,#7c5cff,#00e0b8)">
          <i data-lucide="send" class="w-5 h-5 text-white"></i>
        </button>
      </div>
    </div>
    
    <!-- EMERGENCY BUTTON REMOVED - Now handled via WhatsApp UI for better safety and legal protection -->
  </div>

  <!-- FLOATING CHAT BUTTON -->
  <button onclick="toggleChat()" class="fixed bottom-6 right-6 z-40 w-16 h-16 rounded-full flex items-center justify-center shadow-2xl btn" style="background:linear-gradient(135deg,#7c5cff,#00e0b8)">
    <i data-lucide="message-circle" class="w-7 h-7 text-white"></i>
  </button>

  <!-- UBARU MODAL -->
  <div id="ubaruModal" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4">
    <div class="glass rounded-2xl p-8 max-w-md w-full">
      <div class="flex items-center justify-between mb-6">
        <h3 class="text-2xl font-bold gradient-text">Conekta-Pay ‚Ä¢ UBARU Certified</h3>
        <button onclick="closeUbaruModal()" class="text-slate-400 hover:text-white transition">
          <i data-lucide="x" class="w-6 h-6"></i>
        </button>
      </div>
      
      <div class="space-y-4 text-slate-300">
        <p><strong class="text-white">Conekta-Pay Protection:</strong> Your payments are held securely until services are delivered. No more advance payment risks!</p>
        <p><strong class="text-white">UBARU Certification:</strong> All service providers and landlords are verified through our UBARU system - KYC, background checks, and trust scores.</p>
        
        <div class="mt-6 p-4 rounded-xl bg-white/5 border border-white/10">
          <div class="flex items-center gap-3">
            <i data-lucide="shield-check" class="w-8 h-8 text-teal-400"></i>
            <div>
              <p class="font-semibold text-white">Your Safety, Our Priority</p>
              <p class="text-sm text-slate-400">Powered by Mama Dennis AI</p>
            </div>
          </div>
        </div>
        
        <button onclick="closeUbaruModal();scrollToModule('ubaru')" class="mt-4 w-full text-center rounded-xl px-5 py-3 btn font-bold" style="background:linear-gradient(90deg,#7c5cff,#00e0b8)">
          Learn More About UBARU
        </button>
      </div>
    </div>
  </div>

  <!-- M-PESA MODAL -->
  <div id="mpesaModal" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4">
    <div class="glass rounded-2xl p-8 max-w-md w-full">
      <div class="flex items-center justify-between mb-6">
        <h3 class="text-2xl font-bold gradient-text">M-Pesa Ready</h3>
        <button onclick="closeMpesaModal()" class="text-slate-400 hover:text-white transition">
          <i data-lucide="x" class="w-6 h-6"></i>
        </button>
      </div>
      
      <div class="space-y-4 text-slate-300">
        <p><strong class="text-white">Seamless M-Pesa Integration:</strong> Pay rent, hire fundis, and book stays directly with M-Pesa - Kenya's most trusted payment method.</p>
        
        <div class="grid grid-cols-2 gap-3 mt-4">
          <div class="p-3 rounded-xl bg-white/5 border border-white/10 text-center">
            <i data-lucide="smartphone" class="w-6 h-6 mx-auto mb-2 text-teal-400"></i>
            <p class="text-sm font-semibold">Instant Payments</p>
          </div>
          <div class="p-3 rounded-xl bg-white/5 border border-white/10 text-center">
            <i data-lucide="lock" class="w-6 h-6 mx-auto mb-2 text-purple-400"></i>
            <p class="text-sm font-semibold">Secure Conekta-Pay</p>
          </div>
          <div class="p-3 rounded-xl bg-white/5 border border-white/10 text-center">
            <i data-lucide="receipt" class="w-6 h-6 mx-auto mb-2 text-teal-400"></i>
            <p class="text-sm font-semibold">Auto Receipts</p>
          </div>
          <div class="p-3 rounded-xl bg-white/5 border border-white/10 text-center">
            <i data-lucide="clock" class="w-6 h-6 mx-auto mb-2 text-purple-400"></i>
            <p class="text-sm font-semibold">24/7 Available</p>
          </div>
        </div>
        
        <p class="text-sm text-slate-400 mt-4">Coming soon: Bank transfers, card payments, and international options!</p>
        
        <button onclick="closeMpesaModal()" class="mt-4 w-full text-center rounded-xl px-5 py-3 btn font-bold" style="background:linear-gradient(90deg,#7c5cff,#00e0b8)">
          Got it!
        </button>
      </div>
    </div>
  </div>

  <!-- MODULE MODAL (Generic) -->
  <div id="moduleModal" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4">
    <div class="glass rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto">
      <div class="flex items-center justify-between mb-6">
        <h3 id="moduleModalTitle" class="text-3xl font-bold gradient-text"></h3>
        <button onclick="closeModuleModal()" class="text-slate-400 hover:text-white transition">
          <i data-lucide="x" class="w-6 h-6"></i>
        </button>
      </div>
      
      <div id="moduleModalContent" class="space-y-4 text-slate-300">
        <!-- Content will be dynamically inserted -->
      </div>
      
      <div class="mt-6 flex gap-3">
        <a href="#contact" onclick="closeModuleModal()" class="flex-1 text-center rounded-xl px-5 py-3 btn font-bold" style="background:linear-gradient(90deg,#7c5cff,#00e0b8)">
          Get Started
        </a>
        <button onclick="closeModuleModal()" class="flex-1 text-center rounded-xl px-5 py-3 glass btn font-semibold">
          Close
        </button>
      </div>
    </div>
  </div>

  <script>
    // Initialize Lucide icons
    lucide.createIcons();

    // Mobile menu toggle
    document.getElementById('mobileBtn')?.addEventListener('click', () => {
      const m = document.getElementById('mobileMenu');
      m.classList.toggle('hidden');
    });

    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Backend URL
    const BACKEND_URL = 'https://conekta-complete-system.onrender.com';

    // Contact form submission
    document.getElementById('contactForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      const form = e.currentTarget;
      const fd = new FormData(form);
      const payload = Object.fromEntries(fd.entries());
      const status = document.getElementById('formStatus');
      const submitBtn = form.querySelector('button[type="submit"]');
      
      submitBtn.disabled = true;
      submitBtn.textContent = 'Sending...';
      status.textContent = '';
      status.className = 'text-sm text-center';

      try {
        const res = await fetch(`${BACKEND_URL}/api/contacts`, {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify(payload)
        });
        
        if (!res.ok) throw new Error('Failed to send message');
        
        const data = await res.json();
        status.textContent = '‚úÖ Message sent! We\'ll get back to you soon.';
        status.className = 'text-sm text-center text-emerald-300';
        form.reset();
      } catch (err) {
        console.error('Contact form error:', err);
        status.textContent = '‚ö†Ô∏è Could not send message. Please email us at hello@conekta.africa';
        status.className = 'text-sm text-center text-amber-300';
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Send Message';
      }
    });

    // UBARU Modal
    function showUbaruModal() {
      document.getElementById('ubaruModal').classList.remove('hidden');
      lucide.createIcons();
    }

    function closeUbaruModal() {
      document.getElementById('ubaruModal').classList.add('hidden');
    }

    // M-Pesa Modal
    function showMpesaModal() {
      document.getElementById('mpesaModal').classList.remove('hidden');
      lucide.createIcons();
    }

    function closeMpesaModal() {
      document.getElementById('mpesaModal').classList.add('hidden');
    }

    // Module Modal
    const moduleContent = {
      rentconnect: {
        title: 'RentConnect',
        content: `
          <p><strong class="text-white">Find Your Perfect Home</strong></p>
          <p>Browse verified property listings with detailed information, 360¬∞ virtual tours, and transparent pricing.</p>
          
          <div class="grid md:grid-cols-2 gap-4 my-6">
            <div class="p-4 rounded-xl bg-white/5 border border-white/10">
              <h4 class="font-bold text-white mb-2">For Tenants</h4>
              <ul class="text-sm space-y-1">
                <li>‚úì Virtual property tours</li>
                <li>‚úì Verified landlords</li>
                <li>‚úì Secure Conekta-Pay payments</li>
                <li>‚úì Digital lease agreements</li>
              </ul>
            </div>
            <div class="p-4 rounded-xl bg-white/5 border border-white/10">
              <h4 class="font-bold text-white mb-2">For Landlords</h4>
              <ul class="text-sm space-y-1">
                <li>‚úì List properties easily</li>
                <li>‚úì Reach verified tenants</li>
                <li>‚úì 5% commission only</li>
                <li>‚úì Automated rent collection</li>
              </ul>
            </div>
          </div>
          
          <p class="text-sm text-slate-400">Powered by Mama Dennis AI for smart matching and fraud prevention.</p>
        `
      },
      kaziflow: {
        title: 'KaziFlow',
        content: `
          <p><strong class="text-white">Hire Trusted Service Providers</strong></p>
          <p>Connect with vetted fundis (service providers) for all your needs - plumbing, electrical, carpentry, and more.</p>
          
          <div class="grid md:grid-cols-2 gap-4 my-6">
            <div class="p-4 rounded-xl bg-white/5 border border-white/10">
              <h4 class="font-bold text-white mb-2">For Clients</h4>
              <ul class="text-sm space-y-1">
                <li>‚úì Background-checked fundis</li>
                <li>‚úì Conekta-Pay payment protection</li>
                <li>‚úì Rating & review system</li>
                <li>‚úì Job tracking dashboard</li>
              </ul>
            </div>
            <div class="p-4 rounded-xl bg-white/5 border border-white/10">
              <h4 class="font-bold text-white mb-2">For Service Providers</h4>
              <ul class="text-sm space-y-1">
                <li>‚úì Get more clients</li>
                <li>‚úì Build your reputation</li>
                <li>‚úì Guaranteed payments</li>
                <li>‚úì UBARU certification</li>
              </ul>
            </div>
          </div>
          
          <p class="text-sm text-slate-400">All payments held in Conekta-Pay until job completion. Your safety is our priority.</p>
        `
      },
      ubaru: {
        title: 'UBARU Certification',
        content: `
          <p><strong class="text-white">Trust Through Verification</strong></p>
          <p>UBARU is our comprehensive trust certification system that verifies all platform participants.</p>
          
          <div class="my-6 p-4 rounded-xl bg-white/5 border border-white/10">
            <h4 class="font-bold text-white mb-3">What We Verify:</h4>
            <ul class="text-sm space-y-2">
              <li>‚úì <strong>Identity (KYC):</strong> Government ID verification</li>
              <li>‚úì <strong>Background Checks:</strong> Criminal record screening</li>
              <li>‚úì <strong>Professional Credentials:</strong> Skills & certifications</li>
              <li>‚úì <strong>Trust Score:</strong> Based on transaction history</li>
              <li>‚úì <strong>References:</strong> Previous client feedback</li>
            </ul>
          </div>
          
          <div class="p-4 rounded-xl bg-gradient-to-r from-purple-500/20 to-teal-500/20 border border-white/10">
            <p class="font-bold text-white mb-2">üõ°Ô∏è UBARU Badge Benefits:</p>
            <p class="text-sm">Certified users get priority visibility, higher trust scores, and access to premium features.</p>
          </div>
          
          <p class="text-sm text-slate-400 mt-4">Powered by Mama Dennis AI for continuous monitoring and fraud detection.</p>
        `
      },
      shortstay: {
        title: 'Short-Stay',
        content: `
          <p><strong class="text-white">Book or Host Short-Term Stays</strong></p>
          <p>Whether you're traveling or have extra space, Short-Stay makes it easy and secure.</p>
          
          <div class="grid md:grid-cols-2 gap-4 my-6">
            <div class="p-4 rounded-xl bg-white/5 border border-white/10">
              <h4 class="font-bold text-white mb-2">For Guests</h4>
              <ul class="text-sm space-y-1">
                <li>‚úì Verified properties</li>
                <li>‚úì Instant booking</li>
                <li>‚úì Secure payments</li>
                <li>‚úì 24/7 support</li>
                <li>‚úì Flexible cancellation</li>
              </ul>
            </div>
            <div class="p-4 rounded-xl bg-white/5 border border-white/10">
              <h4 class="font-bold text-white mb-2">For Hosts</h4>
              <ul class="text-sm space-y-1">
                <li>‚úì List your space easily</li>
                <li>‚úì Set your own prices</li>
                <li>‚úì Automated bookings</li>
                <li>‚úì Earn extra income</li>
                <li>‚úì UBARU verified guests</li>
              </ul>
            </div>
          </div>
          
          <p class="text-sm text-slate-400">All hosts and guests are UBARU verified for maximum safety and trust.</p>
        `
      }
    };

    function openModuleModal(module) {
      const modal = document.getElementById('moduleModal');
      const title = document.getElementById('moduleModalTitle');
      const content = document.getElementById('moduleModalContent');
      
      if (moduleContent[module]) {
        title.textContent = moduleContent[module].title;
        content.innerHTML = moduleContent[module].content;
        modal.classList.remove('hidden');
        lucide.createIcons();
      }
    }

    function closeModuleModal() {
      document.getElementById('moduleModal').classList.add('hidden');
    }

    function scrollToModule(module) {
      const element = document.getElementById(module);
      if (element) {
        element.scrollIntoView({ behavior: 'smooth', block: 'center' });
      }
    }

    // Mama Dennis Chat - Session Management
    let mamaDennisSessionId = localStorage.getItem('mama_dennis_session_id');
    if (!mamaDennisSessionId) {
      mamaDennisSessionId = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
      localStorage.setItem('mama_dennis_session_id', mamaDennisSessionId);
      console.log('üÜï Created new Mama Dennis session:', mamaDennisSessionId);
    } else {
      console.log('‚úÖ Reusing existing Mama Dennis session:', mamaDennisSessionId);
    }

    let chatOpen = false;
    
    function toggleChat() {
      const chatWidget = document.getElementById('mamaDennisChat');
      chatOpen = !chatOpen;
      if (chatOpen) {
        chatWidget.classList.remove('hidden');
        lucide.createIcons();
      } else {
        chatWidget.classList.add('hidden');
      }
    }

    async function sendChatMessage() {
      const input = document.getElementById('chatInput');
      const messages = document.getElementById('chatMessages');
      const message = input.value.trim();
      
      if (!message) return;

      // Add user message
      const userMsg = document.createElement('div');
      userMsg.className = 'text-right';
      userMsg.innerHTML = `<div class="inline-block rounded-lg px-4 py-3 max-w-xs text-white font-semibold" style="background:linear-gradient(135deg,#7c5cff,#00e0b8)">${message}</div>`;
      messages.appendChild(userMsg);
      
      input.value = '';
      messages.scrollTop = messages.scrollHeight;

      // Show typing indicator
      const typingMsg = document.createElement('div');
      typingMsg.id = 'typing';
      typingMsg.className = 'text-left';
      typingMsg.innerHTML = `<div class="inline-block glass rounded-lg px-4 py-3"><i class="text-slate-400">Mama Dennis is typing...</i></div>`;
      messages.appendChild(typingMsg);
      messages.scrollTop = messages.scrollHeight;

      try {
        const res = await fetch(`${BACKEND_URL}/api/mama/chat`, {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify({ 
            message, 
            session_id: mamaDennisSessionId,
            user_id: 'web_user'
          })
        });
        
        const data = await res.json();
        
        // Remove typing indicator
        document.getElementById('typing')?.remove();
        
        // Add Mama Dennis response
        const botMsg = document.createElement('div');
        botMsg.className = 'text-left';
        botMsg.innerHTML = `<div class="inline-block glass rounded-lg px-4 py-3 max-w-xs">${data.response || data.message || 'I\'m here to help! Ask me about RentConnect, KaziFlow, UBARU, or Short-Stay.'}</div>`;
        messages.appendChild(botMsg);
        messages.scrollTop = messages.scrollHeight;
      } catch (err) {
        console.error('Chat error:', err);
        document.getElementById('typing')?.remove();
        
        const errorMsg = document.createElement('div');
        errorMsg.className = 'text-left';
        errorMsg.innerHTML = `<div class="inline-block glass rounded-lg px-4 py-3 max-w-xs text-amber-300">Sorry, I'm having trouble connecting. Please try WhatsApp or email us!</div>`;
        messages.appendChild(errorMsg);
        messages.scrollTop = messages.scrollHeight;
      }
    }

    // ============================================================================
    // EMERGENCY PANIC BUTTON SYSTEM - DISABLED (Moved to WhatsApp UI)
    // ============================================================================
    
    /* EMERGENCY BUTTON REMOVED FOR LEGAL SAFETY - Use WhatsApp for emergencies
    let emergencyAlertActive = false;

    async function triggerEmergency() {
      if (emergencyAlertActive) {
        alert('Emergency alert already sent! Help is on the way.');
        return;
      }

      const confirmed = confirm(
        'üö® EMERGENCY ALERT\n\n' +
        'This will immediately notify:\n' +
        '‚Ä¢ CONEKTA Admin Team\n' +
        '‚Ä¢ Your Emergency Contact\n' +
        '‚Ä¢ Local Authorities (if configured)\n\n' +
        'Are you in danger and need help?'
      );

      if (!confirmed) return;

      emergencyAlertActive = true;

      try {
        let location = { latitude: null, longitude: null, county: null, town: null };

        if (navigator.geolocation) {
          try {
            const position = await new Promise((resolve, reject) => {
              navigator.geolocation.getCurrentPosition(resolve, reject, {
                timeout: 5000,
                enableHighAccuracy: true
              });
            });
            location.latitude = position.coords.latitude;
            location.longitude = position.coords.longitude;
          } catch (geoError) {
            console.warn('Could not get location:', geoError);
          }
        }

        const customerId = localStorage.getItem('conekta_customer_id') || 'web_user_' + mamaDennisSessionId;

        const res = await fetch(`${BACKEND_URL}/api/emergency/alert`, {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify({
            customer_id: customerId,
            provider_id: localStorage.getItem('conekta_active_provider_id') || null,
            job_id: localStorage.getItem('conekta_active_job_id') || null,
            location_county: location.county,
            location_town: location.town,
            location_address: null,
            latitude: location.latitude,
            longitude: location.longitude
          })
        });

        if (!res.ok) throw new Error('Failed to send emergency alert');

        const data = await res.json();

        alert(
          '‚úÖ EMERGENCY ALERT SENT!\n\n' +
          'Help is on the way!\n\n' +
          '‚Ä¢ Admin team notified\n' +
          '‚Ä¢ Emergency contact notified\n' +
          '‚Ä¢ Alert ID: ' + data.alert_id.substring(0, 8) + '...\n\n' +
          'Stay safe! Do not leave the premises if possible.'
        );

        const messages = document.getElementById('chatMessages');
        const emergencyMsg = document.createElement('div');
        emergencyMsg.className = 'text-center';
        emergencyMsg.innerHTML = `
          <div class="inline-block rounded-lg px-4 py-3 bg-rose-600 text-white font-semibold shadow-lg">
            üö® EMERGENCY ALERT SENT<br>
            <span class="text-xs">Help is on the way. Stay safe!</span>
          </div>
        `;
        messages.appendChild(emergencyMsg);
        messages.scrollTop = messages.scrollHeight;

        const emergencyBtn = document.querySelector('button[onclick="triggerEmergency()"]');
        if (emergencyBtn) {
          emergencyBtn.disabled = true;
          emergencyBtn.classList.add('opacity-50', 'cursor-not-allowed');
          emergencyBtn.innerHTML = '<i data-lucide="check-circle" class="w-5 h-5"></i><span>ALERT SENT</span>';
          lucide.createIcons();
        }

      } catch (err) {
        console.error('Emergency alert error:', err);
        emergencyAlertActive = false;

        alert(
          '‚ö†Ô∏è EMERGENCY ALERT FAILED\n\n' +
          'Could not send alert through the system.\n\n' +
          'CALL IMMEDIATELY:\n' +
          '‚Ä¢ Police: 999 or 112\n' +
          '‚Ä¢ CONEKTA Support: +254 797 446 155\n\n' +
          'Error: ' + err.message
        );

        const messages = document.getElementById('chatMessages');
        const errorMsg = document.createElement('div');
        errorMsg.className = 'text-center';
        errorMsg.innerHTML = `
          <div class="inline-block rounded-lg px-4 py-3 bg-amber-600 text-white font-semibold">
            ‚ö†Ô∏è Alert system error<br>
            <span class="text-xs">Call 999 or +254 797 446 155</span>
          </div>
        `;
        messages.appendChild(errorMsg);
        messages.scrollTop = messages.scrollHeight;
      }
    }

    function storeCustomerId(customerId) {
      localStorage.setItem('conekta_customer_id', customerId);
    }

    function setActiveJob(jobId, providerId) {
      localStorage.setItem('conekta_active_job_id', jobId);
      localStorage.setItem('conekta_active_provider_id', providerId);
    }

    function clearActiveJob() {
      localStorage.removeItem('conekta_active_job_id');
      localStorage.removeItem('conekta_active_provider_id');
    }
    */ // END OF COMMENTED EMERGENCY SYSTEM

    // ============================================================================
    // EVENT LISTENERS & INITIALIZATION
    // ============================================================================

    // Allow Enter key to send message
    document.addEventListener('DOMContentLoaded', () => {
      const chatInput = document.getElementById('chatInput');
      if (chatInput) {
        chatInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            sendChatMessage();
          }
        });
      }
      
      // Reinitialize icons after page load
      lucide.createIcons();
    });

    // Close modals on Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeUbaruModal();
        closeMpesaModal();
        closeModuleModal();
      }
    });

    // ============================================================================
    // BUTTON CONNECTIONS - CONNECT FRONTEND TO BACKEND APIs
    // ============================================================================

    // Property Listing (RentConnect)
    async function loadProperties(filters = {}) {
      const params = new URLSearchParams(filters);
      const response = await fetch(`${BACKEND_URL}/api/rentconnect/properties?${params}`);
      const data = await response.json();
      
      if (data.success) {
        displayProperties(data.properties);
      }
    }

    function displayProperties(properties) {
      const container = document.getElementById('propertiesContainer');
      if (!container) return;
      
      container.innerHTML = properties.map(prop => `
        <div class="glass rounded-2xl p-6 module-card">
          <h3 class="text-xl font-bold mb-2">${prop.title}</h3>
          <p class="text-slate-300">${prop.property_type} ‚Ä¢ ${prop.bedrooms} BR ‚Ä¢ ${prop.bathrooms} BA</p>
          <p class="text-slate-400">üìç ${prop.town}, ${prop.county}</p>
          <p class="text-2xl font-bold text-teal-400 my-3">KES ${prop.rent_amount.toLocaleString()}/month</p>
          ${prop.virtual_tour_url ? '<button onclick="viewVirtualTour(\'' + prop.virtual_tour_url + '\')" class="btn bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-xl">üåê 360¬∞ Tour</button>' : ''}
          <button onclick="viewPropertyDetails('${prop.id}')" class="btn bg-teal-600 hover:bg-teal-700 px-4 py-2 rounded-xl">View Details</button>
        </div>
      `).join('');
    }

    function viewVirtualTour(url) {
      window.open(url, '_blank');
    }

    function viewPropertyDetails(propertyId) {
      window.location.href = `/properties.html?id=${propertyId}`;
    }

    // Service Providers (KaziFlow)
    async function loadProviders(filters = {}) {
      const params = new URLSearchParams(filters);
      const response = await fetch(`${BACKEND_URL}/api/kaziflow/providers?${params}`);
      const data = await response.json();
      
      if (data.success) {
        displayProviders(data.providers);
      }
    }

    function displayProviders(providers) {
      const container = document.getElementById('providersContainer');
      if (!container) return;
      
      container.innerHTML = providers.map(prov => `
        <div class="glass rounded-2xl p-6 module-card">
          <h3 class="text-xl font-bold mb-2">${prov.name}</h3>
          <p class="text-slate-300">üõ†Ô∏è ${prov.category}</p>
          <p class="text-slate-400">üìç ${prov.town}, ${prov.county}</p>
          <p class="text-purple-400 font-semibold">üõ°Ô∏è ${prov.ubaru_badge} Certified</p>
          <p class="text-teal-400">‚≠ê Trust Score: ${prov.trust_score}/100</p>
          <button onclick="contactProvider('${prov.phone}')" class="btn bg-teal-600 hover:bg-teal-700 px-4 py-2 rounded-xl mt-3">Contact via WhatsApp</button>
        </div>
      `).join('');
    }

    function contactProvider(phone) {
      window.open(`https://wa.me/${phone.replace('+', '')}?text=Hi! I found you on CONEKTA. I need your services.`, '_blank');
    }

    // Short-Stay Listings
    async function loadShortStays(filters = {}) {
      const params = new URLSearchParams(filters);
      const response = await fetch(`${BACKEND_URL}/api/shortstay/properties?${params}`);
      const data = await response.json();
      
      if (data.success) {
        displayShortStays(data.properties);
      }
    }

    function displayShortStays(properties) {
      const container = document.getElementById('shortStaysContainer');
      if (!container) return;
      
      container.innerHTML = properties.map(prop => `
        <div class="glass rounded-2xl p-6 module-card">
          <h3 class="text-xl font-bold mb-2">${prop.title}</h3>
          <p class="text-slate-300">${prop.property_type} ‚Ä¢ ${prop.bedrooms} BR ‚Ä¢ ${prop.bathrooms} BA</p>
          <p class="text-slate-400">üë• Max ${prop.max_guests} guests</p>
          <p class="text-slate-400">üìç ${prop.town}, ${prop.county}</p>
          <p class="text-2xl font-bold text-teal-400 my-3">KES ${prop.price_per_night.toLocaleString()}/night</p>
          ${prop.virtual_tour_url ? '<button onclick="viewVirtualTour(\'' + prop.virtual_tour_url + '\')" class="btn bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded-xl">üåê 360¬∞ Tour</button>' : ''}
          <button onclick="bookShortStay('${prop.id}')" class="btn bg-teal-600 hover:bg-teal-700 px-4 py-2 rounded-xl">Book Now</button>
        </div>
      `).join('');
    }

    function bookShortStay(propertyId) {
      alert('Booking system coming soon! Property ID: ' + propertyId);
    }
  </script>

</body>
</html>
